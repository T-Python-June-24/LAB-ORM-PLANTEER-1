{% extends 'main/base.html' %}

{% block title %} Update plant {% endblock %}

{% block content %}
<main>
  <div class="container mx-20 mb-24">
    <h2 class="text-xl font-bold mb-4">Search Plants</h2>
    <form class="flex mb-4" action="{% url 'plants:plant_search_view' %}" method="get">
      <input type="text" name="q" placeholder="Search by name" value="{{ query }}" class="border p-2 w-full rounded-md">
      <button type="submit" class="bg-black text-white py-2 px-2 ml-3 border-0 rounded-md">Search</button>
    </form>
    {% if query %}
      {% if count > 0 %}
          <p class="mb-4">{{ count }} result{% if count > 1 %}s{% endif %} found for "{{ query }}"</p>
          <div class="flex flex-col gap-4 mb-20">
            {% for plant in plants %}
              <div class="flex flex-col px-12">
                <img src="{{ plant.image.url }}" alt="{{ plant.name }}" class="w-[500px] h-[350px]">
                <h4 class="text-3xl font-semibold my-2">{{ plant.name }}</h4>
                <p class="text-l w-[500px] text-wrap font-light">{{ plant.about }}</p>
                <p class="font-medium text-gray-400">{{ plant.get_category_display }}</p>
              </div>
            {% endfor %}
          </div>
      {% else %}
          <p>No results found for "{{ query }}"</p>
      {% endif %}
    {% endif %}
  </div>
</main>
{% endblock %}

