{% extends 'main/base.html' %}

{% load static %}

{% block title %}Update Plant{% endblock %}

{% block content %}
    <h2 class="my-4">Update Plant</h2>
    <form class="d-flex flex-column gap-3" action="{% url 'plants:plant_update' plant.id %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="name">Plant Name</label>
            <input type="text" placeholder="Plant Name" name="name" class="form-control" id="name" value="{{ plant.name }}">
        </div>

        <div class="form-group">
            <label for="about">About</label>
            <textarea placeholder="About" name="about" class="form-control" id="about">{{ plant.about }}</textarea>
        </div>

        <div class="form-group">
            <label for="used_for">Used for</label>
            <textarea placeholder="Used for: " name="used_for" class="form-control" id="used_for">{{ plant.used_for }}</textarea>
        </div>

        <div class="form-group">
            <label for="plant_image">Plant Image</label>
            <input type="file" name="plant_image" class="form-control-file" id="plant_image">
            {% if plant.plant_image %}
            <img src="{{ plant.plant_image.url }}" alt="{{ plant.name }}" class="img-fluid mt-2">
            {% endif %}
        </div>

        <div class="form-group">
            <label for="category">Category</label>
            <select class="form-select" name="category" id="category">
                <option value="">Type...</option>
                {% for value, display in categories %}
                <option value="{{ value }}" {% if plant.category == value %}selected{% endif %}>{{ display }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group form-check">
            <input type="checkbox" aria-label="Edible" id="is_edible" name="is_edible" class="form-check-input" {% if plant.is_edible %}checked{% endif %}>
            <label class="form-check-label" for="is_edible">Edible</label>
        </div>

        <input type="submit" value="Update Plant" class="btn btn-success">
    </form>
{% endblock %}